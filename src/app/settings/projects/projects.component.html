<form [formGroup]="form" (ngSubmit)="onSubmit()" class="dark-bg" novalidate>
  <md-input-container>
    <input md-input placeholder="ID de projet" formControlName="code" />
  </md-input-container>
  <div class="wo-form-alert wo-form-alert-error" *ngIf="(form.controls.code.dirty || submitted) && !form.controls.code.valid">
    <p [hidden]="!form.controls.code.errors.required">Le champ ne peut pas être vide</p>
  </div>

  <md-input-container>
    <input md-input placeholder="Client" formControlName="client" />
  </md-input-container>
  <div class="wo-form-alert wo-form-alert-error" *ngIf="(form.controls.client.dirty || submitted) && !form.controls.client.valid">
    <p [hidden]="!form.controls.client.errors.required">Le champ ne peut pas être vide</p>
  </div>

  <md-input-container>
    <input md-input placeholder="Projet" formControlName="name" />
  </md-input-container>
  <div class="wo-form-alert wo-form-alert-error" *ngIf="(form.controls.name.dirty || submitted) && !form.controls.name.valid">
    <p [hidden]="!form.controls.name.errors.required">Le champ ne peut pas être vide</p>
  </div>

  <div class="buttons-group">
    <button md-raised-button color="primary" type="submit">{{ buttonName }}</button>
  </div>
</form>

<div class="separator"></div>

<table class="wo-table projects-table">
  <thead>
    <tr>
      <th>ID Projet</th>
      <th>Client</th>
      <th>Projet</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <tr class="with-spinner" [hidden]="!loading">
      <td colspan="4">
        <md-spinner></md-spinner>
      </td>
    </tr>

    <tr *ngFor="let project of projects" (click)="onEdit(project)">
      <td>{{ project.code }}</td>
      <td>{{ project.client }}</td>
      <td>{{ project.name }}</td>
      <td>
        <div class="icons-container">
          <md-icon class="icon-remove" mdTooltip="Supprimer le projet" mdTooltipPosition="above" (click)="onRemove(project)">delete</md-icon>
        </div>
      </td>
    </tr>
  </tbody>
</table>
