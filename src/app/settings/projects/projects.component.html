<form [formGroup]="form" (ngSubmit)="onSubmit()" class="dark-bg" novalidate>
  <md-form-field class="input-full-width">
    <input mdInput placeholder="ID de projet" formControlName="code" />

    <md-error *ngIf="code.invalid && code.dirty">
      <span [hidden]="!code.errors.required">Le champ ne peut pas être vide</span>
    </md-error>
  </md-form-field>

  <md-form-field class="input-full-width">
    <input mdInput placeholder="Client" formControlName="client" />

    <md-error *ngIf="client.invalid && client.dirty">
      <span [hidden]="!client.errors.required">Le champ ne peut pas être vide</span>
    </md-error>
  </md-form-field>

  <md-form-field class="input-full-width">
    <input mdInput placeholder="Projet" formControlName="name" />

    <md-error *ngIf="name.invalid && name.dirty">
      <span [hidden]="!name.errors.required">Le champ ne peut pas être vide</span>
    </md-error>
  </md-form-field>

  <md-form-field class="input-full-width">
    <input mdInput placeholder="Couleur" formControlName="color" />

    <md-error *ngIf="color.invalid && color.dirty">
      <span [hidden]="!color.errors.required">Le champ ne peut pas être vide</span>
    </md-error>
  </md-form-field>

  <div class="buttons-group">
    <button md-raised-button color="primary" type="submit" [disabled]="loading">{{ buttonName }}</button>
  </div>
</form>

<div class="separator"></div>

<table class="wo-table projects-table">
  <thead>
    <tr>
      <th>ID Projet</th>
      <th>Client</th>
      <th>Projet</th>
      <th>Couleur</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <tr class="with-spinner" [hidden]="!loading">
      <td colspan="4">
        <md-spinner></md-spinner>
      </td>
    </tr>

    <tr *ngFor="let project of projects" (click)="onEdit(project)">
      <td>{{ project.code }}</td>
      <td>{{ project.client }}</td>
      <td>{{ project.name }}</td>
      <td class="color">
        {{ project.color }}
        <span class="square-color" [style.backgroundColor]="project.color"></span>
      </td>
      <td>
        <div class="icons-container">
          <md-icon class="icon-remove" mdTooltip="Supprimer le projet" mdTooltipPosition="above" (click)="onRemove(project)">delete</md-icon>
        </div>
      </td>
    </tr>
  </tbody>
</table>
